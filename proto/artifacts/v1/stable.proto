// Using edition 2023 - edition 2024 not yet fully supported by buf (as of v1.61.0)
// TODO: Upgrade to edition 2024 when buf/protoc fully support it
edition = "2023";

package artifacts.v1;

import "google/protobuf/timestamp.proto";
import "google/protobuf/go_features.proto";
import "artifacts/v1/manifest.proto";

option go_package = "github.com/ConductorOne/github-workflows/pb/artifacts/v1";
option features.(pb.go).api_level = API_OPAQUE;

// Stable represents a pointer to the current stable release with metadata.
// This manifest is stored at the catalog-level path: releases/{org}/{repo}/stable.json
message Stable {
  // version is the stable schema version (currently "1")
  string version = 1;

  // updated_at is the timestamp when stable.json was last updated.
  // This differs from manifest.released_at which is when the release was originally created.
  google.protobuf.Timestamp updated_at = 2;

  // manifest is the manifest for the current stable release
  Manifest manifest = 3;
}

